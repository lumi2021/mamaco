; Program: placeholder
; 2 modules

module @TestCode {
	struct @Program : @System.Object {
		func @.ctor(*@TestCode.Program .instance) void {	
			entry:
				ret
			
		}
	
		; index = 0 bitAlignment = 0 bitOffset = 0  bitLength = 64
		field u64 @TestField = (i64 100)
	
		; index = 0 bitAlignment = 0 bitOffset = 0  bitLength = 16
		field i16 @TestFieldShort = (i16 5)
	
		export "_start" func @Main() void {	
			entry:
				call void @System.Console.WriteLine(@TestCode.Program.TestField)
				@TestCode.Program.TestField = i32 add (i32 5), (i32 10)
				@TestCode.Program.TestField = u64 mul @TestCode.Program.TestField, (i64 10)
				call void @System.Console.WriteLine(@TestCode.Program.TestField)
				@TestCode.Program.TestFieldShort = (i16 5)
				@TestCode.Program.TestFieldShort = i16 add @TestCode.Program.TestFieldShort, (i16 5)
				ret
			
		}
	}

	struct @Test : @System.Object {
		func @.ctor(*@TestCode.Test .instance) void {	
			entry:
				ret
			
		}
	}

	struct @Driving : @System.Object {
		func @.ctor(*@TestCode.Driving .instance) void {	
			entry:
				ret
			
		}
	
		; index = 0 bitAlignment = 0 bitOffset = 0  bitLength = 1
		field u1 @_rightAfterABeer
	
		func @InYourCar(u1 rightAfterABeer) void {	
			entry:
				self->@TestCode.Driving._rightAfterABeer = %rightAfterABeer
				ret
			
		}
	
		func @InMyCar(u1 rightAfterABeer) void {	
			entry:
				self->@TestCode.Driving._rightAfterABeer = %rightAfterABeer
				ret
			
		}
	}
}
module @System {
	struct @Exception : @System.Object {
		; index = 0 bitAlignment = 0 bitOffset = 0  bitLength = ptr * 2
		field []u8 @_message
	
		; index = 0 bitAlignment = 0 bitOffset = 0  bitLength = ptr * 1
		field *@System.Exception @_innerException
	
		func @.ctor(*@System.Exception .instance, []u8 message) void {	
			entry:
				call void @System.Exception..ctor(%.instance, %message, (*@System.Exception null))
				ret
			
		}
	
		func @.ctor(*@System.Exception .instance, []u8 message, *@System.Exception innerException) void {	
			entry:
				self->@System.Exception._message = %message
				self->@System.Exception._innerException = %innerException
				ret
			
		}
	
		func @ToString() []u8 {	
			entry:
				ret []u8 add "Exception: No allocator to concatenate this shit so ", "imagine an meaningfull error message here"
			
		}
	}

	namespace @Console {
		func @Write([]u8 content) void {	
			entry:
				ret
			
		}
	
		func @Write(i64 content) void {	
			entry:
				ret
			
		}
	
		func @Write(u64 content) void {	
			entry:
				ret
			
		}
	
		func @WriteLine([]u8 content) void {	
			entry:
				ret
			
		}
	
		func @WriteLine(i64 content) void {	
			entry:
				ret
			
		}
	
		func @WriteLine(u64 content) void {	
			entry:
				ret
			
		}
	}

	struct @UnreachableException : @System.Exception {
		func @.ctor(*@System.UnreachableException .instance) void {	
			entry:
				call void @System.Exception..ctor(%.instance, (*@System.Exception null), ([]u8 null))
				ret
			
		}
	
		func @.ctor(*@System.UnreachableException .instance, []u8 message) void {	
			entry:
				call void @System.Exception..ctor(%.instance, %message, ([]u8 null))
				ret
			
		}
	
		func @.ctor(*@System.UnreachableException .instance, []u8 message, *@System.Exception innerException) void {	
			entry:
				call void @System.Exception..ctor(%.instance, %message, %innerException)
				ret
			
		}
	
		func @ToString() []u8 {	
			entry:
				ret "Exception: Trying to execute unreachable code"
			
		}
	}

	struct @ArgumentException : @System.Exception {
		func @.ctor(*@System.ArgumentException .instance) void {	
			entry:
				call void @System.Exception..ctor(%.instance, (*@System.Exception null), ([]u8 null))
				ret
			
		}
	
		func @.ctor(*@System.ArgumentException .instance, []u8 message) void {	
			entry:
				call void @System.Exception..ctor(%.instance, %message, ([]u8 null))
				ret
			
		}
	
		func @.ctor(*@System.ArgumentException .instance, []u8 message, *@System.Exception innerException) void {	
			entry:
				call void @System.Exception..ctor(%.instance, %message, %innerException)
				ret
			
		}
	
		func @ToString() []u8 {	
			entry:
				ret "Exception: Idk what this one specifically is"
			
		}
	}

	struct @OutOfMemoryException : @System.Exception {
		func @.ctor(*@System.OutOfMemoryException .instance) void {	
			entry:
				call void @System.Exception..ctor(%.instance, (*@System.Exception null), ([]u8 null))
				ret
			
		}
	
		func @.ctor(*@System.OutOfMemoryException .instance, []u8 message) void {	
			entry:
				call void @System.Exception..ctor(%.instance, %message, ([]u8 null))
				ret
			
		}
	
		func @.ctor(*@System.OutOfMemoryException .instance, []u8 message, *@System.Exception innerException) void {	
			entry:
				call void @System.Exception..ctor(%.instance, %message, %innerException)
				ret
			
		}
	
		func @ToString() []u8 {	
			entry:
				ret "Exception: Out Of Memory"
			
		}
	}

	namespace @Runtime {
		namespace @InteropServices {
			namespace @NativeMemory {
				import "" "Sys_Malloc" func @Sys_Malloc(iptr size) *opaque {}
			
				import "" "Sys_Free" func @Sys_Free(*opaque ptr) void {}
			
				import "" "Sys_Realloc" func @Sys_Realloc(*opaque ptr, iptr new_size) *opaque {}
			
				import "" "Sys_AlignedAlloc" func @Sys_AlignedAlloc(iptr alignment, iptr size) *opaque {}
			
				import "" "Sys_AlignedFree" func @Sys_AlignedFree(*opaque ptr) void {}
			
				import "" "Sys_AlignedRealloc" func @Sys_AlignedRealloc(*opaque ptr, iptr alignment, iptr new_size) *opaque {}
			
				func @AlignedAlloc(iptr byteCount, iptr alignment) *opaque {	
					entry:
						ret call *opaque @System.Runtime.InteropServices.NativeMemory.Sys_AlignedAlloc(%alignment, %byteCount)
					
				}
			
				func @AlignedFree(*opaque ptr) void {	
					entry:
						call void @System.Runtime.InteropServices.NativeMemory.Sys_AlignedFree(%ptr)
						ret
					
				}
			
				func @AlignedRealloc(*opaque ptr, iptr byteCount, iptr alignment) *opaque {	
					entry:
						ret call *opaque @System.Runtime.InteropServices.NativeMemory.Sys_AlignedRealloc(%ptr, %alignment, %byteCount)
					
				}
			
				func @Alloc(iptr byteCount) *opaque {	
					entry:
						ret call *opaque @System.Runtime.InteropServices.NativeMemory.Sys_Malloc(%byteCount)
					
				}
			
				func @Free(*opaque ptr) void {	
					entry:
						call void @System.Runtime.InteropServices.NativeMemory.Sys_Free(%ptr)
						ret
					
				}
			
				func @Realloc(*opaque ptr, iptr byteCount) *opaque {	
					entry:
						ret call *opaque @System.Runtime.InteropServices.NativeMemory.Sys_Realloc(%ptr, %byteCount)
					
				}
			}
		}
	
		namespace @CompilerServices {
			struct @IsExternalInit : @System.Object {}
		}
	}

	struct @FlagsAttribute : @System.Attribute {
		func @.ctor(*@System.FlagsAttribute .instance) void {	
			entry:
				ret
			
		}
	}

	typedef @AttributeTargets {
		Assembly => (i32 1)
		Module => (i32 2)
		Class => (i32 4)
		Struct => (i32 8)
		Enum => (i32 16)
		Constructor => (i32 32)
		Method => (i32 64)
		Property => (i32 128)
		Field => (i32 256)
		Event => (i32 512)
		Interface => (i32 1024)
		Parameter => (i32 2048)
		Delegate => (i32 4096)
		ReturnValue => (i32 8192)
		GenericParameter => (i32 16384)
		All => (i32 32767)
	}

	struct @AttributeUsageAttribute : @System.Attribute {
		func @.ctor(*@System.AttributeUsageAttribute .instance, @System.AttributeTargets validOn) void {	
			entry:
				ret
			
		}
	
		property @System.AttributeTargets @ValidOn { get = @System.AttributeUsageAttribute.get_ValidOn set = @System.AttributeUsageAttribute.set_ValidOn }
	
		func @get_ValidOn() @System.AttributeTargets {	
			entry:
				ret self->@System.AttributeUsageAttribute.<ValidOn>k__BackingField
			
		}
	
		func @set_ValidOn(@System.AttributeTargets value) void {	
			entry:
				self->@System.AttributeUsageAttribute.<ValidOn>k__BackingField = %value
				ret
			
		}
	
		property u1 @AllowMultiple { get = @System.AttributeUsageAttribute.get_AllowMultiple set = @System.AttributeUsageAttribute.set_AllowMultiple }
	
		func @get_AllowMultiple() u1 {	
			entry:
				ret self->@System.AttributeUsageAttribute.<AllowMultiple>k__BackingField
			
		}
	
		func @set_AllowMultiple(u1 value) void {	
			entry:
				self->@System.AttributeUsageAttribute.<AllowMultiple>k__BackingField = %value
				ret
			
		}
	
		property u1 @Inherited { get = @System.AttributeUsageAttribute.get_Inherited set = @System.AttributeUsageAttribute.set_Inherited }
	
		func @get_Inherited() u1 {	
			entry:
				ret self->@System.AttributeUsageAttribute.<Inherited>k__BackingField
			
		}
	
		func @set_Inherited(u1 value) void {	
			entry:
				self->@System.AttributeUsageAttribute.<Inherited>k__BackingField = %value
				ret
			
		}
	
		; index = 0 bitAlignment = 0 bitOffset = 0  bitLength = 0
		field @System.AttributeTargets @<ValidOn>k__BackingField
	
		; index = 0 bitAlignment = 0 bitOffset = 0  bitLength = 1
		field u1 @<AllowMultiple>k__BackingField
	
		; index = 0 bitAlignment = 0 bitOffset = 0  bitLength = 1
		field u1 @<Inherited>k__BackingField
	}

	namespace @Diagnostics {
		struct @UnreachableException : @System.Exception {
			func @.ctor(*@System.Diagnostics.UnreachableException .instance) void {	
				entry:
					call void @System.Exception..ctor(%.instance, (*@System.Exception null), ([]u8 null))
					ret
				
			}
		
			func @.ctor(*@System.Diagnostics.UnreachableException .instance, []u8 message) void {	
				entry:
					call void @System.Exception..ctor(%.instance, %message, ([]u8 null))
					ret
				
			}
		
			func @.ctor(*@System.Diagnostics.UnreachableException .instance, []u8 message, *@System.Exception innerException) void {	
				entry:
					call void @System.Exception..ctor(%.instance, %message, %innerException)
					ret
				
			}
		}
	}

	struct @Reflection : @System.Object {}

	struct @ValueType : @System.Object {}

	struct @Type : @System.Object {
		; index = 0 bitAlignment = 0 bitOffset = 0  bitLength = ptr * 1
		field *opaque @metadataPtr
	
		property []u8 @Name { get = @System.Type.get_Name }
	
		func @get_Name() []u8 {	
			entry:
				ret self->@System.Type.<Name>k__BackingField
			
		}
	
		property []u8 @FullName { get = @System.Type.get_FullName }
	
		func @get_FullName() []u8 {	
			entry:
				ret self->@System.Type.<FullName>k__BackingField
			
		}
	
		func @.ctor(*@System.Type .instance, *opaque metadataPtr) void {	
			entry:
				self->@System.Type.metadataPtr = %metadataPtr
				ret
			
		}
	
		; index = 0 bitAlignment = 0 bitOffset = 0  bitLength = ptr * 2
		field []u8 @<Name>k__BackingField
	
		; index = 0 bitAlignment = 0 bitOffset = 0  bitLength = ptr * 2
		field []u8 @<FullName>k__BackingField
	}

	struct @Attribute : @System.Object {}

	struct @Decimal : @System.ValueType {}

	struct @Delegate : @System.Object {}

	struct @Object {
		func @GetType() *@System.Type {	
			entry:
				ret alloca @System.Type
			
		}
	
		func @ToString() []u8 {	
			entry:
				ret call *@System.Type self->@System.Object.GetType()->@System.Type.FullName
			
		}
	
		func @Equals(*@System.Object obj) u1 {	
			entry:
				ret cmp Equal call *opaque @System.Realizer.Intrinsics.RealizerGetObjectPointer(self), call *opaque @System.Realizer.Intrinsics.RealizerGetObjectPointer(%obj)
			
		}
	
		func @GetHashCode() i32 {	
			entry:
				ret call *opaque @System.Realizer.Intrinsics.RealizerGetObjectPointer(self) as i32
			
		}
	}

	namespace @Realizer {
		namespace @Intrinsics {
			import "" "RealizerGetObjectPointer" func @RealizerGetObjectPointer(*@System.Object instance) *opaque {}
		}
	}
}
